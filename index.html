<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreeDogeAI Presale</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #FFD700;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #111;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #FFD700;
        }
        .logo-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .logo-container img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
        }
        button {
            background: #25D366;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            margin: 10px 0;
            font-size: 16px;
            transition: background 0.3s;
        }
        button:hover {
            background: #1DA851;
        }
        button:disabled {
            background: #555;
            cursor: not-allowed;
        }
        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #FFD700;
            background: #222;
            color: white;
            font-size: 16px;
        }
        .wallet-info {
            background: #111;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #FFD700;
            word-break: break-all;
        }
        .info-box {
            background: #111;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid #FFD700;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #FFD700;
            border-radius: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        table, th, td {
            border: 1px solid #FFD700;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        a {
            color: #25D366;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .status-message {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            background-color: #1DA851;
            color: white;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <img src="logo.png" alt="FreeDogeAI Logo">
        </div>
        <h1 style="text-align: center;">FreeDogeAI Presale</h1>
        <p style="text-align: center; font-size: 18px;">1 BNB = 120,000,000,000 FDAI</p>
        
        <!-- Presale Section -->
        <div class="section">
            <button id="connectWalletBtn">ðŸ”— Connect with MetaMask</button>
            
            <div id="walletInfo" style="display:none">
                <h3>Your Wallet</h3>
                <div class="wallet-info">
                    <p><strong>Address:</strong> <span id="walletAddress"></span></p>
                    <p><strong>BNB Balance:</strong> <span id="bnbBalance"></span></p>
                </div>
            </div>
            
            <div>
                <label for="bnbAmount"><strong>BNB Amount:</strong></label>
                <input type="number" id="bnbAmount" placeholder="0.1" step="0.01" min="0.01">
                
                <div style="margin:15px 0;font-size:18px">
                    <strong>You will receive:</strong> <span id="fdaiAmount">0</span> FDAI
                </div>
                
                <button id="buyBtn" disabled>ðŸš€ Buy FDAI Tokens</button>
            </div>
            
            <div id="statusMessage" class="status-message"></div>
            
            <div class="info-box">
                <h3>Important Information</h3>
                <p>After your token purchase, your tokens will be reflected in your wallet within 24 hours. To view your token balance, you may need to manually add the token contract address using the 'Add Token' option in MetaMask.</p>
                <p>Please make sure you are connected to the BSC (Binance Smart Chain) network in your MetaMask application. Otherwise, your purchased tokens may not be visible in your wallet.</p>
                <p><strong>NOTE:</strong> If FDAI tokens do not appear in your wallet after purchase, you can manually add the token using the following contract address:</p>
                <div class="wallet-info" style="text-align:center">
                    0x8161698A74F2ea0035B9912ED60140893Ac0f39C
                </div>
            </div>
        </div>
        
        <!-- About Section -->
        <div class="section">
            <h2>About FreeDogeAI</h2>
            <p>FreeDogeAI is an innovative project combining the power of artificial intelligence with the viral appeal of meme-based cryptocurrencies. Our mission is to create a decentralized ecosystem that leverages AI to empower users, foster community engagement, and drive financial freedom. Join us in revolutionizing the future of finance with FreeDogeAI!</p>
        </div>
        
        <!-- Roadmap Section -->
        <div class="section">
            <h2>Roadmap</h2>
            <h3>Phase 1: Launch</h3>
            <ul>
                <li>Official website launched: freedogeai.com</li>
                <li>Twitter: @FreeDogeAI_FDAI</li>
                <li>Telegram: @freedogeaiFDAI</li>
                <li>Presale was successfully launched</li>
            </ul>
            
            <h3>Phase 2: Growth</h3>
            <ul>
                <li>Airdrop campaigns and community events will be initiated</li>
                <li>DEX visibility and token listings will be executed</li>
                <li>Strategic marketing and influencer collaborations will be launched</li>
            </ul>
            
            <h3>Phase 3: AI Utility</h3>
            <ul>
                <li>AI-powered mini-game and interaction system will be released</li>
                <li>FDAI will be integrated into task/reward models</li>
                <li>Beta testing with real utility will begin</li>
            </ul>
            
            <h3>Phase 4: Global Expansion</h3>
            <ul>
                <li>Surprise centralized exchange listing will be announced</li>
                <li>NFT + AI feature integration will be unveiled</li>
                <li>Global outreach and scaling will be accelerated</li>
            </ul>
        </div>
        
        <!-- Tokenomics Section -->
        <div class="section">
            <h2>Tokenomics</h2>
            <table>
                <tr>
                    <th>Category</th>
                    <th>Percentage</th>
                </tr>
                <tr>
                    <td>Presale</td>
                    <td>10%</td>
                </tr>
                <tr>
                    <td>Airdrop & Campaigns</td>
                    <td>15%</td>
                </tr>
                <tr>
                    <td>Burn</td>
                    <td>15%</td>
                </tr>
                <tr>
                    <td>DEX & CEX Listing</td>
                    <td>25%</td>
                </tr>
                <tr>
                    <td>Locked Reserve</td>
                    <td>30%</td>
                </tr>
                <tr>
                    <td>Team</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong>100%</strong></td>
                </tr>
            </table>
            
            <h3>Circulating & Locked Supply</h3>
            <p><strong>Total Supply:</strong> 2,000,000,000,000,000 (Two Quadrillion)</p>
            <p><strong>Circulating Supply:</strong> 1,400,000,000,000,000 (One Quadrillion Four Hundred Trillion)</p>
            <p><strong>Locked Supply:</strong> 600,000,000,000,000 FDAI (Six Hundred Trillion)</p>
            
            <h3>Locked Token Release Schedule</h3>
            <table>
                <tr>
                    <th>Year</th>
                    <th>Unlocked (%)</th>
                </tr>
                <tr>
                    <td>2026</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>2027</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>2028</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>2029</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>2030</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>2031</td>
                    <td>5%</td>
                </tr>
            </table>
        </div>
        
        <!-- Community Section -->
        <div class="section" style="text-align: center;">
            <h2>Join Our Community</h2>
            <p>
                <a href="https://twitter.com/FreeDogeAI_FDAI" target="_blank">X (Twitter)</a> | 
                <a href="https://t.me/freedogeaiFDAI" target="_blank">Telegram</a>
            </p>
            <button style="width: auto; margin: 20px auto; padding: 10px 20px;">Download FreeDogeAI Whitepaper</button>
        </div>
    </div>

    <script>
        // Config
        const CONFIG = {
            RECEIVE_WALLET: "0xd924e01c7d319c5b23708cd622bd1143cd4fb360",
            TOKENS_PER_BNB: 120000000000,
            BSC_CHAIN_ID: 56
        };

        // State
        let web3;
        let userAddress = "";
        let isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            setupEventListeners();
            checkExistingConnection();
        });

        // 1. CÃœZDAN BAÄžLANTISI (MOBÄ°L UYUMLU)
        async function connectWallet() {
            try {
                // Mobil cihaz kontrolÃ¼
                if (isMobile) {
                    // MetaMask uygulamasÄ±nÄ± aÃ§
                    window.location.href = "metamask://";
                    
                    // 1 saniye bekle (uygulamanÄ±n aÃ§Ä±lmasÄ± iÃ§in)
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    // Tekrar kontrol et
                    if (!window.ethereum) {
                        throw new Error("Please open this page in MetaMask browser");
                    }
                } else {
                    // Desktop'ta normal baÄŸlantÄ±
                    if (!window.ethereum) {
                        throw new Error("Please install MetaMask!");
                    }
                }

                // MetaMask baÄŸlantÄ± isteÄŸi
                const accounts = await window.ethereum.request({ 
                    method: 'eth_requestAccounts' 
                });
                userAddress = accounts[0];
                web3 = new Web3(window.ethereum);

                // Mobilde imza isteÄŸi (ZORUNLU)
                if (isMobile) {
                    const message = `FreeDogeAI Presale Authorization\n\nAddress: ${userAddress}`;
                    await window.ethereum.request({
                        method: 'personal_sign',
                        params: [message, userAddress]
                    });
                }

                // BSC aÄŸÄ±na geÃ§
                await switchToBSC();
                
                // UI gÃ¼ncelle
                updateWalletUI();

            } catch (error) {
                console.error("Connection error:", error);
                showStatus(`Connection failed: ${error.message}`, false);
            }
        }

        // 2. BNB HESAPLAMA
        function calculateFDAI() {
            const amount = parseFloat(document.getElementById('bnbAmount').value) || 0;
            document.getElementById('fdaiAmount').textContent = 
                (amount * CONFIG.TOKENS_PER_BNB).toLocaleString();
        }

        // 3. TOKEN SATIN ALMA
        async function sendBNB() {
            const bnbAmount = parseFloat(document.getElementById('bnbAmount').value);
            
            if (!bnbAmount || bnbAmount <= 0) {
                showStatus("Please enter valid BNB amount", false);
                return;
            }

            try {
                showStatus("Processing transaction...", true);

                const weiAmount = web3.utils.toWei(bnbAmount.toString(), 'ether');
                const tx = {
                    from: userAddress,
                    to: CONFIG.RECEIVE_WALLET,
                    value: weiAmount,
                    gas: 300000,
                    gasPrice: await web3.eth.getGasPrice()
                };

                const receipt = await web3.eth.sendTransaction(tx);
                
                // 4. BÄ°LGÄ°LENDÄ°RME MESAJI
                showStatus(
                    `âœ… Success! Sent ${bnbAmount} BNB. You will receive ${(bnbAmount * CONFIG.TOKENS_PER_BNB).toLocaleString()} FDAI. TX Hash: ${receipt.transactionHash}`,
                    true
                );

                // Bakiye gÃ¼ncelle
                updateWalletBalance();

            } catch (error) {
                console.error("Transaction error:", error);
                showStatus(`Transaction failed: ${error.message}`, false);
            }
        }

        // YARDIMCI FONKSÄ°YONLAR
        async function switchToBSC() {
            try {
                const chainId = await web3.eth.getChainId();
                if (chainId !== CONFIG.BSC_CHAIN_ID) {
                    await window.ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: '0x38' }]
                    });
                }
            } catch (error) {
                console.error("Network switch failed:", error);
            }
        }

        function updateWalletUI() {
            const shortAddress = `${userAddress.slice(0, 6)}...${userAddress.slice(-4)}`;
            document.getElementById('walletAddress').textContent = shortAddress;
            document.getElementById('walletInfo').style.display = 'block';
            document.getElementById('connectWalletBtn').textContent = 'âœ… Connected';
            document.getElementById('buyBtn').disabled = false;
            updateWalletBalance();
        }

        async function updateWalletBalance() {
            if (!userAddress) return;
            const balance = await web3.eth.getBalance(userAddress);
            document.getElementById('bnbBalance').textContent = 
                `${parseFloat(web3.utils.fromWei(balance, 'ether')).toFixed(6)} BNB`;
        }

        function showStatus(message, isSuccess) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.style.display = 'block';
            statusElement.style.backgroundColor = isSuccess ? '#1DA851' : '#FF0000';
            setTimeout(() => {
                statusElement.style.display = 'none';
            }, 10000);
        }

        function setupEventListeners() {
            document.getElementById('connectWalletBtn').addEventListener('click', connectWallet);
            document.getElementById('buyBtn').addEventListener('click', sendBNB);
            document.getElementById('bnbAmount').addEventListener('input', calculateFDAI);
        }

        function checkExistingConnection() {
            if (window.ethereum && window.ethereum.selectedAddress) {
                userAddress = window.ethereum.selectedAddress;
                web3 = new Web3(window.ethereum);
                updateWalletUI();
            }
        }

        // 5. MOBÄ°L UYUMLULUK ve GÃœVENLÄ°K
        if (window.ethereum) {
            window.ethereum.on('accountsChanged', (accounts) => {
                if (accounts.length > 0) {
                    userAddress = accounts[0];
                    updateWalletUI();
                } else {
                    disconnectWallet();
                }
            });

            window.ethereum.on('chainChanged', () => {
                window.location.reload();
            });
        }

        function disconnectWallet() {
            document.getElementById('walletInfo').style.display = 'none';
            document.getElementById('connectWalletBtn').textContent = 'ðŸ”— Connect with MetaMask';
            document.getElementById('buyBtn').disabled = true;
            userAddress = "";
            web3 = null;
        }
    </script>
</body>
</html>
